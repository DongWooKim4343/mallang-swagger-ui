{"openapi":"3.0.1","info":{"title":"Mallang Place","description":"Mallang Place project","version":"1.0.0"},"servers":[{"url":"/"}],"security":[{"JWT TOKEN":[]}],"tags":[{"name":"주소","description":"주소 CRUD"},{"name":"반려동물(말랑이)","description":"반려동물 CRUD"},{"name":"관리자","description":"관리자 CRUD"},{"name":"회원","description":"회원 CRUD"}],"paths":{"/api/pets/representative/{petId}":{"put":{"tags":["반려동물(말랑이)"],"summary":"대표 반려동물(말랑이) 변경","description":"대표 반려동물(말랑이)을 변경하는 API","operationId":"updateRepresentativePet","parameters":[{"name":"petId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/member/{memberId}":{"put":{"tags":["회원"],"summary":"회원수정","description":"회원수정 요청 API","operationId":"update","parameters":[{"name":"memberId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MemberUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}},"delete":{"tags":["회원"],"summary":"회원탈퇴","description":"회원탈퇴 요청 API","operationId":"delete","parameters":[{"name":"memberId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/pets":{"get":{"tags":["반려동물(말랑이)"],"summary":"유저 본인의 반려동물 페이지 조회","description":"유저 본인의 말랑이 목록을 페이지로 조회할때 사용하는 API","operationId":"getAllMyPets","parameters":[{"name":"pageRequestDTO","in":"query","required":true,"schema":{"$ref":"#/components/schemas/PageRequest"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePetResponse"}}}}}},"post":{"tags":["반려동물(말랑이)"],"summary":"반려동물 등록","description":"반려동물을 등록하는 API","operationId":"createPet","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PetCreateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PetResponse"}}}}}}},"/api/member/register":{"post":{"tags":["회원"],"summary":"회원등록","description":"회원등록 요청 API","operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MemberCreateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/member/find-user-id":{"post":{"tags":["회원"],"summary":"아이디찾기","description":"아이디찾기 요청 API","operationId":"findUserId","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MemberFindUserIdRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/member/find-password":{"post":{"tags":["회원"],"summary":"비밀번호찾기","description":"비밀번호찾기 요청 API","operationId":"findPassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MemberFindPasswordRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/address":{"get":{"tags":["주소"],"summary":"주소조회","description":"주소조회 요청 API","operationId":"get_1","parameters":[{"name":"memberId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MemberAddressResponse"}}}}}}},"post":{"tags":["주소"],"summary":"주소등록","description":"주소등록 요청 API","operationId":"create_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MemberAddressRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/pets/{petId}":{"get":{"tags":["반려동물(말랑이)"],"summary":"반려동물 정보조회","description":"반려동물의 정보를 조회하는 API","operationId":"getPet","parameters":[{"name":"petId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PetResponse"}}}}}},"patch":{"tags":["반려동물(말랑이)"],"summary":"반려동물 정보 수정","description":"반려동물을 정보를 수정하는 API","operationId":"updatePet","parameters":[{"name":"petId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PetUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PetResponse"}}}}}}},"/api/pets/{petId}/restore":{"patch":{"tags":["반려동물(말랑이)"],"summary":"반려동물 복원 (활성화)","description":"삭제된 반려동물을 복원(활성화)하는 API","operationId":"restorePet","parameters":[{"name":"petId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PetResponse"}}}}}}},"/api/pets/{petId}/delete":{"patch":{"tags":["반려동물(말랑이)"],"summary":"반려동물 삭제 (비활성화)","description":"특정 반려동물을 삭제(비활성화)하는 API","operationId":"deletePet","parameters":[{"name":"petId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PetResponse"}}}}}}},"/api/view":{"get":{"tags":["jwt-test-controller"],"operationId":"view","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/pets/representative":{"get":{"tags":["반려동물(말랑이)"],"summary":"대표 반려동물(말랑이) 정보조회","description":"대표 반려동물(말랑이) 정보를 조회하는 API","operationId":"getRepresentativePet","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PetResponse"}}}}}}},"/api/pets/nearby":{"get":{"tags":["반려동물(말랑이)"],"summary":"근처의 반려동물 목록을 조회","description":"클라이언트로부터 위도 경도 ,시/군/구 등의 데이터를 받았을때 위도 경도를 기준으로 거리를 계산하여 반경내(20km)의 반려동물 목록을 조회","operationId":"getNearbyPets","parameters":[{"name":"petLocationDTO","in":"query","required":true,"schema":{"$ref":"#/components/schemas/PetLocationRequest"}},{"name":"pageRequestDTO","in":"query","required":true,"schema":{"$ref":"#/components/schemas/PageRequest"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePetResponse"}}}}}}},"/api/member":{"get":{"tags":["회원"],"summary":"회원조회","description":"회원조회 요청 API","operationId":"get","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MemberGetResponse"}}}}}}},"/api/member/list":{"get":{"tags":["회원"],"summary":"회원리스트 조회","description":"회원리스트 조회 요청 API","operationId":"list","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":1}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageMemberGetResponse"}}}}}}},"/api/member/admin/user-id":{"get":{"tags":["관리자"],"summary":"유저 아이디로 회원검색","description":"유저 아이디로 회원검색 요청 API","operationId":"searchByUserId","parameters":[{"name":"userId","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MemberGetResponse"}}}}}}}},"/api/member/admin/nickname":{"get":{"tags":["관리자"],"summary":"유저 닉네임으로 회원검색","description":"유저 닉네임으로 회원검색 요청 API","operationId":"searchByNickname","parameters":[{"name":"nickname","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MemberGetResponse"}}}}}}}},"/api/member/admin/list":{"get":{"tags":["관리자"],"summary":"회원리스트 조회","description":"회원리스트 조회 요청 API","operationId":"list_1","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":1}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageMemberGetResponse"}}}}}}},"/api/member/admin/email":{"get":{"tags":["관리자"],"summary":"유저 이메일로 회원검색","description":"유저 이메일 회원검색 요청 API","operationId":"searchByEmail","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MemberGetResponse"}}}}}}}},"/api/member/admin/{memberId}":{"delete":{"tags":["관리자"],"summary":"회원영구 삭제","description":"회원영구 삭제 요청 API","operationId":"delete_1","parameters":[{"name":"memberId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/address/{addressId}":{"delete":{"tags":["주소"],"summary":"주소삭제","description":"주소삭제 요청 API","operationId":"delete_2","parameters":[{"name":"addressId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"MemberUpdateRequest":{"type":"object","properties":{"nickname":{"pattern":"^[ㄱ-ㅎ가-힣a-zA-Z0-9-_\\\\s]{2,15}$","type":"string"},"email":{"pattern":"^(?=.{1,100}@)[A-Za-z0-9_-]+(\\.[A-Za-z0-9_-]+)*@[^-][A-Za-z0-9-]+(\\.[A-Za-z0-9-]+)*(\\.[A-Za-z]{2,})$","type":"string"},"profileImage":{"pattern":"([^\\s]+(\\.(?i)(jpg|jpeg|png|gif|bmp|tiff|webp|svg|ico|heic|heif|avif))$)","type":"string"},"password":{"pattern":"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!#$%&'()*+,.:;<=>?@^_`{|}~])[A-Za-z\\d$@!%#*?&^]{8,20}$","type":"string"}}},"PetCreateRequest":{"required":["gender","isNeutering","isOpenProfile","name","petType"],"type":"object","properties":{"memberId":{"type":"integer","format":"int64"},"name":{"type":"string"},"petType":{"type":"string","enum":["DOG","CAT","BIRD","OTHER"]},"image":{"type":"string"},"birthdate":{"type":"string","format":"date"},"weight":{"type":"number","format":"double"},"description":{"type":"string"},"microChip":{"type":"string"},"isOpenProfile":{"type":"boolean"},"isNeutering":{"type":"boolean"},"gender":{"type":"string","enum":["MALE","FEMALE","ETC"]}}},"PetResponse":{"type":"object","properties":{"petId":{"type":"integer","format":"int64"},"memberId":{"type":"integer","format":"int64"},"name":{"type":"string"},"petType":{"type":"string","enum":["DOG","CAT","BIRD","OTHER"]},"image":{"type":"string"},"birthdate":{"type":"string","format":"date"},"gender":{"type":"string","enum":["MALE","FEMALE","ETC"]},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"distance":{"type":"number","format":"double"}}},"MemberCreateRequest":{"required":["addressName","addressType","buildingName","hasPet","latitude","longitude","mainAddressNo","mainBuildingNo","mountainYn","region1depthName","region2depthName","region3depthHName","region3depthName","roadName","subAddressNo","subBuildingNo","zoneNo"],"type":"object","properties":{"userId":{"pattern":"^[ㄱ-ㅎ가-힣a-zA-Z0-9-_\\\\s]{6,12}$","type":"string"},"password":{"pattern":"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!#$%&'()*+,.:;<=>?@^_`{|}~])[A-Za-z\\d$@!%#*?&^]{8,20}$","type":"string"},"nickname":{"pattern":"^[ㄱ-ㅎ가-힣a-zA-Z0-9-_\\\\s]{2,15}$","type":"string"},"email":{"pattern":"^(?=.{1,100}@)[A-Za-z0-9_-]+(\\.[A-Za-z0-9_-]+)*@[^-][A-Za-z0-9-]+(\\.[A-Za-z0-9-]+)*(\\.[A-Za-z]{2,})$","type":"string"},"profileImage":{"pattern":"([^\\s]+(\\.(?i)(jpg|jpeg|png|gif|bmp|tiff|webp|svg|ico|heic|heif|avif))$)","type":"string"},"hasPet":{"type":"boolean"},"addressName":{"type":"string"},"addressType":{"type":"string"},"region1depthName":{"type":"string"},"region2depthName":{"type":"string"},"region3depthName":{"type":"string"},"region3depthHName":{"type":"string"},"mainAddressNo":{"type":"string"},"subAddressNo":{"type":"string"},"roadName":{"type":"string"},"mainBuildingNo":{"type":"string"},"subBuildingNo":{"type":"string"},"buildingName":{"type":"string"},"zoneNo":{"type":"string"},"mountainYn":{"type":"string"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"MemberFindUserIdRequest":{"type":"object","properties":{"email":{"pattern":"^(?=.{1,100}@)[A-Za-z0-9_-]+(\\.[A-Za-z0-9_-]+)*@[^-][A-Za-z0-9-]+(\\.[A-Za-z0-9-]+)*(\\.[A-Za-z]{2,})$","type":"string"},"nickname":{"pattern":"^[ㄱ-ㅎ가-힣a-zA-Z0-9-_\\\\s]{2,15}$","type":"string"}}},"MemberFindPasswordRequest":{"type":"object","properties":{"email":{"pattern":"^(?=.{1,100}@)[A-Za-z0-9_-]+(\\.[A-Za-z0-9_-]+)*@[^-][A-Za-z0-9-]+(\\.[A-Za-z0-9-]+)*(\\.[A-Za-z]{2,})$","type":"string"},"userId":{"pattern":"^[ㄱ-ㅎ가-힣a-zA-Z0-9-_\\\\s]{6,12}$","type":"string"}}},"MemberAddressRequest":{"required":["addressName","addressType","buildingName","latitude","longitude","mainAddressNo","mainBuildingNo","mountainYn","region1depthName","region2depthName","region3depthHName","region3depthName","roadName","subAddressNo","subBuildingNo","zoneNo"],"type":"object","properties":{"addressName":{"type":"string"},"addressType":{"type":"string"},"region1depthName":{"type":"string"},"region2depthName":{"type":"string"},"region3depthName":{"type":"string"},"region3depthHName":{"type":"string"},"mainAddressNo":{"type":"string"},"subAddressNo":{"type":"string"},"roadName":{"type":"string"},"mainBuildingNo":{"type":"string"},"subBuildingNo":{"type":"string"},"buildingName":{"type":"string"},"zoneNo":{"type":"string"},"mountainYn":{"type":"string"},"longitude":{"type":"number","format":"double"},"latitude":{"type":"number","format":"double"}}},"PetUpdateRequest":{"type":"object","properties":{"name":{"type":"string"},"petType":{"type":"string","enum":["DOG","CAT","BIRD","OTHER"]},"image":{"type":"string"},"birthdate":{"type":"string","format":"date"},"weight":{"type":"number","format":"double"},"description":{"type":"string"},"isOpenProfile":{"type":"boolean"},"isNeutering":{"type":"boolean"},"gender":{"type":"string","enum":["MALE","FEMALE","ETC"]},"microChip":{"type":"string"}}},"PageRequest":{"type":"object","properties":{"page":{"minimum":1,"type":"integer","format":"int32"},"size":{"maximum":100,"minimum":10,"type":"integer","format":"int32"}}},"PagePetResponse":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/PetResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"type":"array","items":{"$ref":"#/components/schemas/SortObject"}},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"type":"array","items":{"$ref":"#/components/schemas/SortObject"}},"pageSize":{"type":"integer","format":"int32"},"pageNumber":{"type":"integer","format":"int32"},"paged":{"type":"boolean"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"direction":{"type":"string"},"nullHandling":{"type":"string"},"ascending":{"type":"boolean"},"property":{"type":"string"},"ignoreCase":{"type":"boolean"}}},"PetLocationRequest":{"type":"object","properties":{"y":{"type":"number","format":"double"},"x":{"type":"number","format":"double"},"radius":{"type":"number","format":"double"},"region1depthName":{"type":"string"},"region2depthName":{"type":"string"},"region3depthName":{"type":"string"}}},"MemberAddressResponse":{"type":"object","properties":{"addressId":{"type":"integer","format":"int64"},"addressName":{"type":"string"},"region3depthName":{"type":"string"},"mainAddressNo":{"type":"string"},"roadName":{"type":"string"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"MemberGetResponse":{"type":"object","properties":{"memberId":{"type":"integer","format":"int64"},"userId":{"type":"string"},"nickname":{"type":"string"},"email":{"type":"string"},"profileImage":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"addresses":{"type":"array","items":{"$ref":"#/components/schemas/MemberAddressResponse"}}}},"PageMemberGetResponse":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/MemberGetResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"type":"array","items":{"$ref":"#/components/schemas/SortObject"}},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}}},"securitySchemes":{"JWT TOKEN":{"type":"http","name":"JWT TOKEN","scheme":"bearer","bearerFormat":"JWT"}}}}
